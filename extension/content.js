(()=>{"use strict";var e={text:"",element:null,start:0,end:0};document.addEventListener("mousedown",(function(t){if(2===t.button){var n=window.getSelection().toString().trim();n&&document.activeElement&&("INPUT"!==document.activeElement.tagName&&"TEXTAREA"!==document.activeElement.tagName||(e={text:n,element:document.activeElement,start:document.activeElement.selectionStart,end:document.activeElement.selectionEnd}))}})),chrome.runtime.onMessage.addListener((function(t,n,o){if("enhanceResponse"===t.action){var a=t.enhancedText;if(console.log("Enhanced text:",a),!a)return void console.log("Enhanced text is null or undefined");var c,i,r=document.activeElement;if("INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName?(r=e.element,c=e.start,i=e.end):(c=r.selectionStart,i=r.selectionEnd),!r||"INPUT"!==r.tagName&&"TEXTAREA"!==r.tagName)console.error("No valid input element found to replace text.");else{var l=r.value;r.value=l.substring(0,c)+a+l.substring(i),r.setSelectionRange(c+a.length,c+a.length),r.dispatchEvent(new Event("input",{bubbles:!0}))}}}));try{chrome.runtime?document.addEventListener("contextmenu",(function(e){var t=window.getSelection().toString();t&&chrome.runtime.sendMessage({action:"enhance",text:t})})):console.error("chrome.runtime is not available.")}catch(e){console.error("Error in content script:",e)}})();
//# sourceMappingURL=content.js.map